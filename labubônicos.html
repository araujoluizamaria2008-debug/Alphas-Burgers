<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Alpha's Burgues üçî‚ú®</title>
  <style>
    


    .usuario-logado {
    background-color: #28a745 !important;
}

.usuario-logado:hover {
    background-color: #218838 !important;
}

   /* Bot√£o flutuante do carrinho */
    .carrinho-flutuante {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(45deg, #e65c00, #ff6b00);
      border: none;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      box-shadow: 0 8px 25px rgba(230, 92, 0, 0.4);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      text-decoration: none;
      transition: all 0.3s ease;
      z-index: 1000;
      animation: pulse 2s infinite;
    }

    .carrinho-flutuante:hover {
      transform: scale(1.1);
      box-shadow: 0 12px 35px rgba(230, 92, 0, 0.6);
    }

    @keyframes pulse {
      0% { box-shadow: 0 8px 25px rgba(230, 92, 0, 0.4); }
      50% { box-shadow: 0 8px 25px rgba(230, 92, 0, 0.7); }
      100% { box-shadow: 0 8px 25px rgba(230, 92, 0, 0.4); }
    }

    .carrinho-contador {
      position: absolute;
      top: -5px;
      right: -5px;
      background-color: #dc3545;
      color: white;
      border-radius: 50%;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      border: 2px solid white;
    }

    /* Responsivo */
    @media (max-width: 768px) {
      .carrinho-flutuante {
        bottom: 20px;
        right: 20px;
        width: 60px;
        height: 60px;
        font-size: 20px;
      }
      
      .carrinho-contador {
        width: 22px;
        height: 22px;
        font-size: 11px;
      }

    }
  
      .usuario-logado {
         background-color: #28a745 !important;
    }
      .usuario-logado:hover {
        background-color: #218838 !important;
    }

  </style>
</head>
<body style="background-color: #fff5ec; font-family: Arial, sans-serif;">

  <header style="background-color: #ffcf96; text-align: center; padding: 10px;">
    <img src="logo.jpeg" width="220" height="150" alt="Logo Alpha's Burgues" />
    <h1>üçî‚ú® Alpha's Burgues</h1>
    <h4 style="color:rgb(145, 128, 106);">Funcionamento das 17h √† 23h</h4>
    <nav>
      <a href="#destaque" style="margin: 0 10px; text-decoration: none; color: #e65c00; font-weight: bold;">Destaque</a>
      <a href="#combos" style="margin: 0 10px; text-decoration: none; color: #e65c00; font-weight: bold;">Combos</a>
      <a href="#bebidas" style="margin: 0 10px; text-decoration: none; color: #e65c00; font-weight: bold;">Bebidas</a>
      <a href="#doces" style="margin: 0 10px; text-decoration: none; color: #e65c00; font-weight: bold;">Doces</a>
</div>
    </nav>
    </nav>
    
   </nav>
    
    <!-- Bot√£o de Usu√°rio -->
    <div style="text-align: center; margin: 15px 0; padding: 10px; background-color: #fff0e0; border-radius: 8px;">
        <a href="usuario.html" id="link-usuario" class="usuario-deslogado" style="background-color: #e65c00; color: white; padding: 10px 20px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 5px; display: inline-block;">
            üë§ Fazer Login / Cadastrar
        </a>
        <button id="btn-logout" onclick="logout()" style="background-color: #dc3545; color: white; padding: 10px 20px; border: none; border-radius: 8px; font-weight: bold; margin: 5px; cursor: pointer; display: none;">
            üö™ Sair
        </button>
    </div>
  </header>
  </header>

  <main style="padding: 20px;">
    <section>
      <h4 style="color:rgb(173, 154, 115);">Fa√ßa seu pedido</h4>
    </section>

    <section id="destaque">
      <h2 style="color: #e65c00;">üçî Destaque</h2>

      <div style="border: 6px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="combo-virginia.html" style="text-decoration: none; color: inherit;">
          <h3>Combo Virg√≠nia - R$ 200,00</h3>
          <img src="viriginia.jpeg" alt="Combo Virg√≠nia" width="200" style="border-radius: 10px;" />
        </a>
      </div>

      <div style="border: 6px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="morango-do-amor.html" style="text-decoration: none; color: inherit;">
          <h3>Morango do Amor - R$ 40,00</h3>
          <img src="morango.jpeg" alt="Morango do Amor" width="150" style="border-radius: 10px;" />
        </a>
      </div>
    </section>

    <section id="combos">
      <h2 style="color: #e65c00;">üçî Combos Tem√°ticos</h2>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="combo-labubonico.html" style="text-decoration: none; color: inherit;">
          <h3>Combo Labub√¥nico - R$ 90,00</h3>
          <img src="labubu.jpeg" alt="Combo Labub√¥nico" width="200" style="border-radius: 10px;" />
        </a>
      </div>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="combo-boobie-goods.html" style="text-decoration: none; color: inherit;">
          <h3>Combo Boobie Goods - R$ 75,90</h3>
          <img src="bobie gods.jpeg" alt="Combo Boobie Goods" width="200" style="border-radius: 10px;" />
        </a>
      </div>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="combo-virginia.html" style="text-decoration: none; color: inherit;">
          <h3>Combo Virg√≠nia - R$ 200,00</h3>
          <img src="viriginia.jpeg" alt="Combo Virg√≠nia" width="200" style="border-radius: 10px;" />
        </a>
      </div>
    </section>

    <section id="bebidas">
      <h2 style="color: #e65c00;">ü•§ Bebidas</h2>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="refrigerante-350ml.html" style="text-decoration: none; color: inherit;">
          <h3>Refrigerante 350ml - R$ 16,90</h3>
          <img src="refri.jpeg" alt="Refrigerante 350ml" width="150" style="border-radius: 10px;" />
          <img src="coca labubu.png" alt="Coca Labubu" width="200" style="border-radius: 50px;" />
          <img src="coca virgi.png" alt="Coca Virgi" width="150" style="border-radius: 50px;" />
        </a>
      </div>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="milkshake-pistache.html" style="text-decoration: none; color: inherit;">
          <h3>Milkshake de Pistache 500ml - R$ 45,90</h3>
          <img src="MILK SHAKE DE PISTACHE .png" alt="Milkshake de Pistache" width="150" style="border-radius: 10px;" />
        </a>
      </div>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="duo-pistachudo.html" style="text-decoration: none; color: inherit;">
          <h3>DUO PISTACHUDO - R$ 60,00</h3>
          <img src="milk cm morango.jpeg" alt="DUO PISTACHUDO" width="150" style="border-radius: 10px;" />
        </a>
      </div>
    </section>

    <section id="doces">
      <h2 style="color: #e65c00;">üç¨ Doces</h2>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="morango-do-amor.html" style="text-decoration: none; color: inherit;">
          <h3>Morango do Amor - R$ 40,00</h3>
          <img src="morango.jpeg" alt="Morango do Amor" width="150" style="border-radius: 10px;" />
        </a>
      </div>

      <div style="border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;">
        <a href="waffles.html" style="text-decoration: none; color: inherit;">
          <h3>Waffles - R$ 50,00</h3>
          <img src="waffles.jpeg" alt="Waffles" width="150" style="border-radius: 10px;" />
        </a>
      </div>
    </section>
  </main>

  <!-- Bot√£o Flutuante do Carrinho -->
  <a href="carrinho.html" class="carrinho-flutuante" id="botao-carrinho">
    üõí
    <span class="carrinho-contador" id="contador-carrinho">0</span>
  </a>

  <footer style="background-color: #ffcf96; text-align: center; padding: 10px;">
    <p>Alpha's Burgues ¬© 2025</p>
  </footer>

  <script>

    // Sistema de usu√°rio
function verificarUsuario() {
    try {
        const usuarioSalvo = sessionStorage.getItem('alphas_usuario');
        const linkUsuario = document.getElementById('link-usuario');
        const btnLogout = document.getElementById('btn-logout');
        
        if (usuarioSalvo) {
            const usuario = JSON.parse(usuarioSalvo);
            
            // Verificar se o usu√°rio ainda existe no sistema
            const usuarios = JSON.parse(localStorage.getItem('alphas_usuarios') || '[]');
            const usuarioExiste = usuarios.find(u => u.id === usuario.id && u.email === usuario.email);
            
            if (usuarioExiste) {
                linkUsuario.innerHTML = `üë§ Ol√°, ${usuario.nome.split(' ')[0]}`;
                linkUsuario.className = 'usuario-logado';
                linkUsuario.href = '#';
                linkUsuario.onclick = function() {
                    alert(`Perfil de ${usuario.nome}\nTipo: ${usuario.tipo === 'admin' ? 'Administrador' : 'Cliente'}\nEmail: ${usuario.email}`);
                    return false;
                };
                btnLogout.style.display = 'inline-block';
            } else {
                // Usu√°rio foi removido do sistema, fazer logout
                sessionStorage.removeItem('alphas_usuario');
                resetarInterfaceUsuario();
            }
        } else {
            resetarInterfaceUsuario();
        }
    } catch (e) {
        console.error('Erro ao verificar usu√°rio:', e);
        resetarInterfaceUsuario();
    }
}

function resetarInterfaceUsuario() {
    const linkUsuario = document.getElementById('link-usuario');
    const btnLogout = document.getElementById('btn-logout');
    
    if (linkUsuario) {
        linkUsuario.innerHTML = 'üë§ Fazer Login / Cadastrar';
        linkUsuario.href = 'usuario.html';
        linkUsuario.className = 'usuario-deslogado';
        linkUsuario.onclick = null;
    }
    
    if (btnLogout) {
        btnLogout.style.display = 'none';
    }
}

function logout() {
    if (confirm('Tem certeza que deseja sair?')) {
        sessionStorage.removeItem('alphas_usuario');
        alert('Logout realizado com sucesso!');
        verificarUsuario();
    }
}

class SyncManager {
    constructor() {
        this.eventListeners = [];
        this.init();
    }

    init() {
        window.addEventListener('storage', (e) => {
            if (e.key === 'alphas_produtos') {
                this.handleDataChange(e.key, e.newValue);
            }
        });

        window.addEventListener('alphas_data_changed', (e) => {
            this.handleDataChange(e.detail.key, e.detail.value);
        });
    }

    saveData(key, data) {
        try {
            const jsonData = JSON.stringify(data);
            localStorage.setItem(key, jsonData);
            
            const event = new CustomEvent('alphas_data_changed', {
                detail: { key: key, value: jsonData }
            });
            window.dispatchEvent(event);
            
            return true;
        } catch (error) {
            console.error('Erro ao salvar dados:', error);
            return false;
        }
    }

    loadData(key) {
        try {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : null;
        } catch (error) {
            console.error('Erro ao carregar dados:', error);
            return null;
        }
    }

    handleDataChange(key, newValue) {
        if (!newValue) return;

        try {
            const data = JSON.parse(newValue);
            
            if (key === 'alphas_produtos') {
                this.updateMenuProducts(data);
            }
        } catch (error) {
            console.error('Erro ao processar mudan√ßa de dados:', error);
        }
    }

    updateMenuProducts(produtos) {
        this.updateSection('combos', produtos.filter(p => p.categoria === 'combos'));
        this.updateSection('doces', produtos.filter(p => p.categoria === 'doces')); 
        this.updateSection('bebidas', produtos.filter(p => p.categoria === 'bebidas'));
    }

    updateSection(sectionId, produtos) {
        const section = document.getElementById(sectionId);
        if (!section) return;

        // Remove produtos existentes mas mantem o t√≠tulo
        const existingProducts = section.querySelectorAll('[style*="border: 2px solid #ffc285"]');
        existingProducts.forEach(el => el.remove());

        // Adiciona produtos atualizados
        produtos.forEach(produto => {
            const produtoDiv = document.createElement('div');
            produtoDiv.style.cssText = 'border: 2px solid #ffc285; background-color: #fff0e0; border-radius: 10px; padding: 10px; margin: 15px;';
            
            const linkHref = this.getProductLink(produto.nome);
            
            produtoDiv.innerHTML = `
                <a href="${linkHref}" style="text-decoration: none; color: inherit;">
                    <h3>${produto.nome} - R$ ${produto.preco.toFixed(2)}</h3>
                    ${produto.imagem ? `<img src="${produto.imagem}" alt="${produto.nome}" width="200" style="border-radius: 10px;" onerror="this.style.display='none'">` : ''}
                    ${produto.descricao ? `<p style="margin: 10px 0; color: #666;">${produto.descricao}</p>` : ''}
                </a>
            `;
            
            section.appendChild(produtoDiv);
        });
    }

    getProductLink(nomeProduto) {
        const links = {
            'Combo Virg√≠nia': 'combo-virginia.html',
            'Combo Labub√¥nico': 'combo-labubonico.html', 
            'Combo Boobie Goods': 'combo-boobie-goods.html',
            'Morango do Amor': 'morango-do-amor.html',
            'Waffles': 'waffles.html',
            'Milkshake de Pistache': 'milkshake-pistache.html',
            'Duo Pistachudo': 'duo-pistachudo.html',
            'Refrigerante 350ml': 'refrigerante-350ml.html'
        };
        
        return links[nomeProduto] || '#';
    }

    addOrder(carrinhoData, clienteData) {
        const pedidos = this.loadData('alphas_pedidos') || [];
        
        const novoPedido = {
            id: Date.now(),
            cliente: clienteData ? clienteData.nome : 'Cliente An√¥nimo',
            itens: carrinhoData.map(item => `${item.produto} (${item.quantidade}x)`).join(', '),
            total: carrinhoData.reduce((sum, item) => sum + (item.preco * item.quantidade), 0),
            status: 'pendente', 
            dataHora: new Date().toLocaleString('pt-BR'),
            detalhes: carrinhoData
        };

        pedidos.push(novoPedido);
        this.saveData('alphas_pedidos', pedidos);

        return novoPedido.id;
    }
}

// Inicializar sistema
const syncManager = new SyncManager();

    // Sistema de carrinho
    let carrinho = [];

    // Fun√ß√£o para adicionar item ao carrinho
    function adicionarAoCarrinho(nome, preco) {
      const itemExistente = carrinho.find(item => item.nome === nome);
      
      if (itemExistente) {
        itemExistente.quantidade += 1;
      } else {
        carrinho.push({
          nome: nome,
          preco: preco,
          quantidade: 1
        });
      }
      
      salvarCarrinho();
      atualizarContadorCarrinho();
      
      // Feedback visual
      const botaoCarrinho = document.getElementById('botao-carrinho');
      botaoCarrinho.style.transform = 'scale(1.2)';
      setTimeout(() => {
        botaoCarrinho.style.transform = 'scale(1)';
      }, 200);
    }

    // Fun√ß√£o para salvar carrinho no sessionStorage
    function salvarCarrinho() {
      try {
        sessionStorage.setItem('alphas_carrinho', JSON.stringify(carrinho));
      } catch (e) {
        console.error('Erro ao salvar carrinho:', e);
      }
    }

    // Fun√ß√£o para carregar carrinho do sessionStorage
    function carregarCarrinho() {
      try {
        const carrinhoSalvo = sessionStorage.getItem('alphas_carrinho');
        if (carrinhoSalvo) {
          carrinho = JSON.parse(carrinhoSalvo);
        }
      } catch (e) {
        console.error('Erro ao carregar carrinho:', e);
        carrinho = [];
      }
    }

    // Fun√ß√£o para atualizar o contador do carrinho
    function atualizarContadorCarrinho() {
      const totalItens = carrinho.reduce((total, item) => total + item.quantidade, 0);
      const contador = document.getElementById('contador-carrinho');
      if (contador) {
        contador.textContent = totalItens;
        contador.style.display = totalItens > 0 ? 'flex' : 'none';
      }
    }

    // Fun√ß√£o para abrir carrinho (mock)
    function abrirCarrinho() {
      if (carrinho.length === 0) {
        alert('Seu carrinho est√° vazio! Adicione alguns itens deliciosos üçî');
        return;
      }
      
      let resumo = 'Seus pedidos:\n\n';
      let total = 0;
      
      carrinho.forEach(item => {
        resumo += `${item.nome} x${item.quantidade} - R$ ${(item.preco * item.quantidade).toFixed(2)}\n`;
        total += item.preco * item.quantidade;
      });
      
      resumo += `\nTotal: R$ ${total.toFixed(2)}`;
      
      alert(resumo);
    }

    // Sistema de usu√°rio
    function verificarUsuario() {
    try {
        const usuarioSalvo = sessionStorage.getItem('alphas_usuario');
        const linkUsuario = document.getElementById('link-usuario');
        const btnLogout = document.getElementById('btn-logout');
        
        if (usuarioSalvo) {
            const usuario = JSON.parse(usuarioSalvo);
            
            // Verificar se o usu√°rio ainda existe no sistema
            const usuarios = JSON.parse(localStorage.getItem('alphas_usuarios') || '[]');
            const usuarioExiste = usuarios.find(u => u.id === usuario.id && u.email === usuario.email);
            
            if (usuarioExiste) {
                linkUsuario.innerHTML = `üë§ Ol√°, ${usuario.nome.split(' ')[0]}`;
                linkUsuario.className = 'usuario-logado';
                linkUsuario.href = '#';
                linkUsuario.onclick = function() {
                    alert(`Perfil de ${usuario.nome}\nTipo: ${usuario.tipo === 'admin' ? 'Administrador' : 'Cliente'}\nEmail: ${usuario.email}`);
                };
                btnLogout.style.display = 'inline-block';
            } else {
                // Usu√°rio foi removido do sistema, fazer logout
                sessionStorage.removeItem('alphas_usuario');
                resetarInterfaceUsuario();
            }
        } else {
            resetarInterfaceUsuario();
        }
    } catch (e) {
        console.error('Erro ao verificar usu√°rio:', e);
        resetarInterfaceUsuario();
    }
}

function resetarInterfaceUsuario() {
    const linkUsuario = document.getElementById('link-usuario');
    const btnLogout = document.getElementById('btn-logout');
    
    linkUsuario.innerHTML = 'üë§ Fazer Login / Cadastrar';
    linkUsuario.href = 'usuario.html';
    linkUsuario.className = 'usuario-deslogado';
    linkUsuario.onclick = null;
    btnLogout.style.display = 'none';
}
    // Atualiza o contador periodicamente
    setInterval(atualizarContadorCarrinho, 1000);

    // Escuta mudan√ßas no sessionStorage
    window.addEventListener('storage', function() {
      carregarCarrinho();
      atualizarContadorCarrinho();
      verificarUsuario();
    });

    // Sistema de usu√°rio
function verificarUsuario() {
    try {
        const usuarioSalvo = sessionStorage.getItem('alphas_usuario');
        const linkUsuario = document.getElementById('link-usuario');
        const btnLogout = document.getElementById('btn-logout');
        
        if (usuarioSalvo) {
            const usuario = JSON.parse(usuarioSalvo);
            linkUsuario.innerHTML = `üë§ Ol√°, ${usuario.nome.split(' ')[0]}`;
            linkUsuario.className = 'usuario-logado';
            linkUsuario.href = '#';
            linkUsuario.onclick = function() {
                alert(`Perfil de ${usuario.nome}\nTipo: ${usuario.tipo === 'admin' ? 'Administrador' : 'Cliente'}\nEmail: ${usuario.email}`);
            };
            btnLogout.style.display = 'inline-block';
        } else {
            linkUsuario.innerHTML = 'üë§ Fazer Login / Cadastrar';
            linkUsuario.href = 'usuario.html';
            linkUsuario.onclick = null;
            btnLogout.style.display = 'none';
        }
    } catch (e) {
        console.error('Erro ao verificar usu√°rio:', e);
    }
}

function logout() {
    if (confirm('Tem certeza que deseja sair?')) {
        sessionStorage.removeItem('alphas_usuario');
        alert('Logout realizado com sucesso!');
        verificarUsuario();
    }
}// Sistema de usu√°rio
// Inicializa√ß√£o do sistema
window.onload = function() {
    carregarCarrinho();
    atualizarContadorCarrinho();
    verificarUsuario();
    
    // Carregar produtos sincronizados se existir o sistema
    if (typeof syncManager !== 'undefined') {
        const produtosSincronizados = syncManager.loadData('alphas_produtos');
        if (produtosSincronizados) {
            syncManager.updateMenuProducts(produtosSincronizados);
        }
    }
};

// Atualizar interface quando dados mudarem
setInterval(verificarUsuario, 2000);

// Escutar mudan√ßas no sessionStorage
window.addEventListener('storage', function(e) {
    if (e.key === 'alphas_usuario') {
        verificarUsuario();
    }
});
  </script>
</body>
</html>