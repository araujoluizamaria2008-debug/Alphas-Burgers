<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Carrinho - Alpha's Burgues</title>
<style>
body {
  background-color: #fff5ec;
  font-family: Arial, sans-serif;
  margin: 0;
  padding: 20px;
}

.carrinho-container {
  max-width: 600px;
  margin: 0 auto;
  background-color: #fff0e0;
  border: 2px solid #ffc285;
  border-radius: 10px;
  padding: 20px;
}

.item-carrinho {
  background-color: #fff5ec;
  border: 1px solid #ffc285;
  border-radius: 8px;
  padding: 15px;
  margin: 10px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.item-info {
  flex: 1;
}

.item-preco {
  font-weight: bold;
  color: #e65c00;
}

.total-container {
  background-color: #ffcf96;
  padding: 15px;
  border-radius: 8px;
  text-align: center;
  margin-top: 20px;
}

.botao {
  background-color: #ffc285;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  margin: 5px;
  text-decoration: none;
  display: inline-block;
  color: black;
}

.botao:hover {
  background-color: #ffb95c;
}

.botao-finalizar {
  background-color: #e65c00;
  color: white;
  font-weight: bold;
  width: 100%;
  padding: 15px;
}

.carrinho-vazio {
  text-align: center;
  color: #666;
  font-style: italic;
  padding: 40px;
}

.botao-remover {
  background-color: #dc3545;
  color: white;
  padding: 5px 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
}

.botao-remover:hover {
  background-color: #c82333;
}

@media (max-width: 600px) {
  .item-carrinho {
    flex-direction: column;
    text-align: center;
  }
}
</style>
</head>
<body>

<div class="carrinho-container">
  <h1 style="text-align: center; color: #e65c00;">üõí Seu Carrinho</h1>
  
  <div id="itens-carrinho">
    <!-- Itens ser√£o carregados aqui -->
  </div>

  <div id="carrinho-vazio" class="carrinho-vazio" style="display: none;">
    <h3>Seu carrinho est√° vazio!</h3>
    <p>Adicione alguns produtos deliciosos do nosso menu.</p>
  </div>

  <div class="total-container">
    <h3>Total do Pedido: R$ <span id="total-pedido">0,00</span></h3>
  </div>

  <div style="text-align: center; margin-top: 20px;">
    <a href="labub√¥nicos.html" class="botao">‚Üê Voltar ao Menu</a>
    <button onclick="finalizarPedido()" class="botao botao-finalizar" style="display: block; margin-top: 10px;">
      üìû Finalizar Pedido
    </button>
  </div>
</div>

<script>
let carrinho = [];

// Fun√ß√£o para adicionar item ao carrinho
function adicionarAoCarrinho(produto, preco, quantidade, extras = '') {
  const item = {
    id: Date.now(), // ID √∫nico baseado no timestamp
    produto: produto,
    preco: parseFloat(preco),
    quantidade: parseInt(quantidade),
    extras: extras
  };
  
  carrinho.push(item);
  atualizarCarrinho();
  salvarCarrinho();
}

// Fun√ß√£o para remover item do carrinho
function removerItem(id) {
  carrinho = carrinho.filter(item => item.id !== id);
  atualizarCarrinho();
  salvarCarrinho();
}

// Fun√ß√£o para atualizar a exibi√ß√£o do carrinho
function atualizarCarrinho() {
  const container = document.getElementById('itens-carrinho');
  const carrinhoVazio = document.getElementById('carrinho-vazio');
  const totalElement = document.getElementById('total-pedido');
  
  if (carrinho.length === 0) {
    container.innerHTML = '';
    carrinhoVazio.style.display = 'block';
    totalElement.textContent = '0,00';
    return;
  }
  
  carrinhoVazio.style.display = 'none';
  
  let html = '';
  let total = 0;
  
  carrinho.forEach(item => {
    const subtotal = item.preco * item.quantidade;
    total += subtotal;
    
    html += `
      <div class="item-carrinho">
        <div class="item-info">
          <strong>${item.produto}</strong><br>
          ${item.extras ? `<small>${item.extras}</small><br>` : ''}
          <span>Quantidade: ${item.quantidade}</span><br>
          <span>Pre√ßo unit√°rio: R$ ${item.preco.toFixed(2)}</span>
        </div>
        <div style="text-align: right;">
          <div class="item-preco">R$ ${subtotal.toFixed(2)}</div>
          <button class="botao-remover" onclick="removerItem(${item.id})">Remover</button>
        </div>
      </div>
    `;
  });
  
  container.innerHTML = html;
  totalElement.textContent = total.toFixed(2);
}

// Fun√ß√£o para salvar carrinho (usando uma vari√°vel global simples)
function salvarCarrinho() {
  // Em uma aplica√ß√£o real, voc√™ salvaria no localStorage
  // Aqui mantemos apenas na mem√≥ria da sess√£o
}

// Fun√ß√£o para carregar carrinho
function carregarCarrinho() {
  // Verificar se h√° itens passados pela URL
  const urlParams = new URLSearchParams(window.location.search);
  
  if (urlParams.get('produto')) {
    const produto = urlParams.get('produto');
    const preco = urlParams.get('preco');
    const quantidade = urlParams.get('quantidade_virginia') || 
                      urlParams.get('quantidade_labubu') || 
                      urlParams.get('quantidade_boobie') || 
                      urlParams.get('quantidade_morango') || 
                      urlParams.get('quantidade_refri') ||
                      urlParams.get('quantidade_waffles') ||
                      urlParams.get('quantidade_milkshake') ||
                      urlParams.get('quantidade_duopist') || 1;
    
    let extras = '';
    if (urlParams.get('tipo_refri')) {
      extras = 'Tipo: ' + urlParams.get('tipo_refri');
    }
    
    adicionarAoCarrinho(produto, preco, quantidade, extras);
  }
  
  atualizarCarrinho();
}

// Fun√ß√£o para finalizar pedido
function finalizarPedido() {
  if (carrinho.length === 0) {
    alert('Seu carrinho est√° vazio!');
    return;
  }
  
  let mensagem = 'Ol√°! Gostaria de fazer um pedido:\n\n';
  let total = 0;
  
  carrinho.forEach(item => {
    const subtotal = item.preco * item.quantidade;
    total += subtotal;
    mensagem += `${item.produto}\n`;
    if (item.extras) mensagem += `${item.extras}\n`;
    mensagem += `Quantidade: ${item.quantidade}\n`;
    mensagem += `Subtotal: R$ ${subtotal.toFixed(2)}\n\n`;
  });
  
  mensagem += `TOTAL: R$ ${total.toFixed(2)}\n\n`;
  mensagem += 'Aguardo contato para confirmar endere√ßo e forma de pagamento. Obrigado!';
  
  const whatsappURL = `https://wa.me/5582999999999?text=${encodeURIComponent(mensagem)}`;
  window.open(whatsappURL, '_blank');
}

// Carregar carrinho quando a p√°gina carregar
window.onload = carregarCarrinho;
</script>

</body>
</html>